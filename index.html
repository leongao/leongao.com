<!doctype html>
<html lang="zh-CN" id="top">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Leon — Hero + Episodes (组件版)</title>
  <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml" />
  <!-- Google Fonts: Poetsen One for masthead/labels -->
  <link href="https://fonts.googleapis.com/css2?family=Poetsen+One&display=swap" rel="stylesheet">
  <!-- 可选：大陆网络镜像，若需请启用下一行（或替换上行） -->
  <!-- <link href="https://fonts.loli.net/css2?family=Poetsen+One&display=swap" rel="stylesheet"> -->
  <style>
    /* 自托管字体：将 /assets/fonts/poetsen-one.woff2 放入仓库（仅含 Basic Latin） */
    @font-face{font-family:'PoetsenOneLocal'; src:url('/assets/fonts/poetsen-one.woff2') format('woff2'); font-weight:400; font-style:normal; font-display:swap; unicode-range: U+0020-007E;}

    :root{
      --bg:#ffffff; --text:#0d0d0d; --muted:#3856a8; --line:#e6e6e6;
      --blue:#2563eb; --red:#ef2b2b; /* 品牌双色 */
      --container: 67.5rem; --radius: 0.875rem;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:var(--bg); color:var(--text); font:16px/1.6 ui-sans-serif,-apple-system,system-ui,"SF Pro Display","Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans SC","PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif}
    a{color:inherit; text-decoration:none}
    .container{max-width:var(--container); margin:0 auto; padding:1.25rem 1.375rem}

    /* ===== 顶部：左图 + 右侧叠字 ===== */
    .mast{padding:3.5rem 0 2.5rem}
    .mast-grid{display:grid; grid-template-columns:minmax(16.25rem,27.5rem) 1fr; gap:1.75rem; align-items:center}
    .mascot{width:100%; height:auto; display:block}
    .mascot-lottie{width:100%; aspect-ratio: 1 / 1; display:block}
    .poetsen{font-family:'PoetsenOneLocal','Poetsen One', ui-sans-serif, -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-weight:400; letter-spacing:0.0125rem}
    .stack-type{display:grid; line-height:.9; isolation:isolate}
    .stack-type .main{grid-area:1/1; font-size:5.625rem; color:var(--red); mix-blend-mode:multiply;}
    .stack-type .sub{grid-area:1/1; font-size:4.5rem; color:var(--blue); transform: translate(0.875rem, -0.75rem); mix-blend-mode:multiply;}
    @media (max-width: 60rem){
      .mast-grid{grid-template-columns:1fr}
      .stack-type .main{font-size:4rem}
      .stack-type .sub{font-size:3.25rem; transform: translate(0.5rem, -0.5rem)}
    }

    /* ===== Episodes 列表（复用组件） ===== */
    .divider-blue{height:0.1875rem; background:var(--blue); margin:1.375rem 0 1.625rem}
    .episodes{display:flex; flex-direction:column; gap:2.125rem}
    .ep{padding:0.75rem 0 2.125rem; border-bottom:0.1875rem solid var(--red)}
    .ep:last-child{border-bottom:none}

    .ep-label{font-family:"Poetsen One", ui-sans-serif; font-size:1.625rem; color:var(--blue); text-shadow: 0.1875rem 0.125rem 0 var(--red); margin:0 0 0.875rem}

    .ep-grid{display:grid; grid-template-columns:8.75rem 1fr; gap:1.125rem; align-items:center}
    @media (max-width:42.5rem){ .ep-grid{grid-template-columns:1fr; align-items:flex-start} }

    /* 封面描边：红框 + 蓝色偏移（按设计：border:6px red; box-shadow: 18px 18px 0 0 blue） */
    .cover{position:relative; display:inline-block; width:8.25rem; height:8.25rem; background:#fff; border:0.375rem solid var(--red); box-shadow:1.125rem 1.125rem 0 0 var(--blue); transition: transform .16s ease, box-shadow .16s ease; will-change: transform}
    .cover:hover,.cover:focus-visible{transform: translate(-2px,-2px); box-shadow:20px 20px 0 0 var(--blue)}
    @media (prefers-reduced-motion: reduce){ .cover{transition:none} .cover:hover,.cover:focus-visible{transform:none; box-shadow:1.125rem 1.125rem 0 0 var(--blue)} }
    .cover .thumb{display:block; width:100%; height:100%; object-fit:cover}

    .ep-title{font-weight:700; font-size:1.375rem; color:var(--blue); line-height:1.4}font-weight:700; font-size:22px; color:var(--blue); line-height:1.4}
    .ep-title .hl{color:var(--red)}
    .ep-title-link{display:inline-block}
    .ep-title-link:hover{transform: translateY(-0.0625rem)}

    /* ===== 返回顶部按钮（SVG 图片版本） ===== */
    .back-top{position:fixed; right:1.375rem; bottom:1.375rem; z-index:100; display:inline-flex; flex-direction:column; align-items:center; gap:0.25rem; padding:0.625rem 0.75rem; border:0.1875rem solid var(--red); border-radius:0.875rem; box-shadow: 0 0 0 0.1875rem var(--blue) inset; background:#fff}
    .back-top img.top-icon{display:block; width:1.375rem; height:1.375rem}
    .back-top span{font-family:"Poetsen One"; font-size:0.75rem; color:var(--blue)}
    .back-top:hover{transform: translateY(-0.1875rem)}
  </style>
</head>
<body>
  <main class="container">
    <!-- 顶部区域：左侧 SVG + 右侧叠字标题 -->
    <section class="mast">
      <div class="mast-grid">
        <div id="mascot" class="mascot-lottie" role="img" aria-label="Leon 手绘小恶魔动画"></div>
        <div class="stack-type poetsen" aria-label="欢迎语">
          <div class="sub">This is Leon</div>
          <div class="main">Nice to meet you</div>
        </div>
      </div>
    </section>

    <div class="divider-blue" aria-hidden="true"></div>

    <!-- Episodes 容器：JS 组件渲染到此 -->
    <section id="episodes" class="episodes" aria-label="播客/文章列表"></section>
  </main>

  <!-- 组件模板：Episode 卡片 -->
  <template id="ep-template">
    <article class="ep">
      <h3 class="ep-label">Episode #<span class="num"></span></h3>
      <div class="ep-grid">
        <a class=\"cover\" href="" target="_blank" rel="noopener" aria-label="查看详情">
          <img class="thumb" src="" alt="" />
        </a>
        <div class="ep-meta">
          <a class="ep-title-link" href="" target="_blank" rel="noopener">
            <div class="ep-title"></div>
          </a>
        </div>
      </div>
    </article>
  </template>

  <!-- 数据源（可改为外部 JSON） -->
  <script id="episodes-data" type="application/json">[
    {
      "number": 1,
      "titleHTML": "“<span class=\"hl\">失去</span>” 30 年，日本人如何面对<br>不确定的未来与确定的 “<span class=\"hl\">老后</span>”",
      "cover": "/assets/episode-1.jpg",
      "coverAlt": "Episode 1 封面",
      "href": "#"
    },
    {
      "number": 1,
      "titleHTML": "“<span class=\"hl\">失去</span>” 30 年，日本人如何面对<br>不确定的未来与确定的 “<span class=\"hl\">老后</span>”",
      "cover": "/assets/episode-1.jpg",
      "coverAlt": "Episode 1 封面",
      "href": "#"
    }
  ]</script>

  <!-- 渲染逻辑：最小依赖、可复用 -->
  <script>
    (function(){
      const mount = document.getElementById('episodes');
      const tpl = document.getElementById('ep-template');
      const dataTag = document.getElementById('episodes-data');
      let items = [];
      try { items = JSON.parse(dataTag.textContent.trim()); } catch(e){ items = []; }

      function renderEpisodes(list, target){
        target.innerHTML = '';
        list.forEach((it, idx)=>{
          const node = tpl.content.cloneNode(true);
          node.querySelector('.num').textContent = it.number ?? (idx + 1);

          const cover = node.querySelector('.thumb');
          cover.src = it.cover; cover.alt = it.coverAlt || `Episode ${it.number || (idx+1)} 封面`;

          const coverLink = node.querySelector('.cover');
          if (it.href) coverLink.href = it.href; else coverLink.removeAttribute('href');

          const title = node.querySelector('.ep-title');
          title.innerHTML = it.titleHTML || (it.title || '');

          const titleLink = node.querySelector('.ep-title-link');
          if (it.href) titleLink.href = it.href; else titleLink.removeAttribute('href');

          target.appendChild(node);
        });
      }

      renderEpisodes(items, mount);
      // 暴露给全局，便于后续动态替换数据
      window.renderEpisodes = renderEpisodes;
    })();
  </script>

  <!-- Lottie mascot -->
  <script src="https://cdn.jsdelivr.net/npm/lottie-web@5.12.2/build/player/lottie.min.js"></script>
  <script>
    (function(){
      var container = document.getElementById('mascot');
      if(!container) return;
      var reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      var anim = lottie.loadAnimation({
        container: container,
        renderer: 'svg',
        loop: true,
        autoplay: !reduce,
        path: '/assets/monstermove.json',
        rendererSettings: { preserveAspectRatio: 'xMidYMid meet' }
      });
      if(reduce){ anim.pause(); }
    })();
  </script>

  <!-- 返回顶部（SVG 图片版本）: 请将 /assets/top.svg 放入仓库。示例 SVG 见下方注释。 -->
  <a class="back-top" href="#top" aria-label="返回顶部">
    <img class="top-icon" src="/assets/top.svg" alt="" />
    <span>Top</span>
  </a>

  <!--
  /assets/top.svg 示例内容：
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
    <rect x="3" y="3" width="42" height="42" rx="10" fill="#fff" stroke="#ef2b2b" stroke-width="6"/>
    <path d="M24 34V14M14 24l10-10 10 10" fill="none" stroke="#2563eb" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  可按需替换 stroke 颜色与圆角。
  -->
</body>
</html>
